"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}var Register=function(){function e(){_classCallCheck(this,e),this.uname=document.querySelector("#uname"),this.upwd=document.querySelector("#upwd"),this.btn=document.querySelector("#btn"),this.o_div=document.querySelectorAll(".error"),this.sub=document.querySelector("#sub"),this.arr=[!1,!1],this.addEvent()}return _createClass(e,[{key:"addEvent",value:function(){var i=this;this.uname.onblur=function(){var e=this.value;/^1\d{10}$/.test(e)?(i.arr[0]=!0,i.o_div[0].innerHTML=""):(i.arr[0]=!1,i.o_div[0].innerHTML="手机号好像不对哦"),""==e&&(i.o_div[0].innerHTML="这里还没有填呢")},this.upwd.onblur=function(){var e=this.value;/^\w{6,16}$/.test(e)?(i.arr[1]=!0,i.o_div[1].innerHTML=""):(i.arr[1]=!1,i.o_div[1].innerHTML="密码太短了,还不到6位呢"),""==e&&(i.o_div[1].innerHTML="这里还没有填呢")},this.btn.onclick=function(){var e,r,n,t;-1!==i.arr.indexOf(!1)?alert("请完善注册信息"):(e=i.uname.value,r=i.upwd.value,t=(n=new Tool).getCookie("users")?n.getCookie("users"):"",t=n.convertStrToObj(t),console.log(t),e in t?alert("用户已存在"):(t[e]=r,n.cookie("users",JSON.stringify(t),{expires:9,path:"/"}),alert("注册成功")))},this.sub.onclick=function(){location.href="login.html"}}},{key:"convertStrToObj",value:function(e){return e?JSON.parse(e):{}}}]),e}();new Register;